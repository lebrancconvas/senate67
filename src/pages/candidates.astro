---
import Layout from "../layouts/Layout.astro";
import CandidateList from "../components/candidate/CandidateList.vue";
import CandidateFilterList from "../components/candidate/CandidateFilterList.vue";
import { getCandidates } from "../data/get_candidates";
import {
	getLocationMap,
	getProvinceList,
	type Location,
} from "../data/senate_option.ts";
import { ApplicationGroup } from "../data/application_group.ts";

const candidate_senates = await getCandidates();
const registered_senates = candidate_senates.length;
const applicationGroup = Object.values(ApplicationGroup);
const provinceList = getProvinceList();
const districtList = getLocationMap();
---

<Layout title="ค้นหาผู้สมัคร สว.">
	<CandidateList
		candidates={candidate_senates}
		total_candidate={registered_senates}
		application_group={applicationGroup}
		provinces={provinceList}
		districts={districtList}
		client:load
	/>
</Layout>
